<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FilmTracker - Dashboard</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Outfit:wght@500;700;800&display=swap"
        rel="stylesheet">
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Charts.js for Stats -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css">
    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body>
    <div class="app-shell">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="sidebar-logo">
                <i class="fas fa-film"></i> FilmTracker
            </div>

            <div class="nav-links">
                <a href="#dashboard" class="nav-item active" data-view="dashboard">
                    <i class="fas fa-chart-pie"></i> Dashboard
                </a>
                <a href="#search" class="nav-item" data-view="search">
                    <i class="fas fa-search"></i> Buscar
                </a>
                <a href="#diary" class="nav-item" data-view="diary">
                    <i class="fas fa-book"></i> Diario
                </a>
                <a href="#watchlist" class="nav-item" data-view="watchlist">
                    <i class="fas fa-bookmark"></i> Watchlist
                </a>
                <a href="#stats" class="nav-item" data-view="stats">
                    <i class="fas fa-chart-line"></i> Estadísticas
                </a>
                <div style="height:1px; background:var(--border); margin:8px 12px;"></div>
                <div
                    style="font-size:0.7rem; color:var(--text-muted); padding:0 12px; margin-bottom:4px; text-transform:uppercase; letter-spacing:1px;">
                    Inteligencia</div>
                <a href="#connections" class="nav-item" data-view="connections">
                    <i class="fas fa-project-diagram"></i> Conexiones
                </a>
                <a href="#awards" class="nav-item" data-view="awards">
                    <i class="fas fa-trophy"></i> Premios
                </a>
                <a href="#map" class="nav-item" data-view="map">
                    <i class="fas fa-globe-americas"></i> Cine-Traveler
                </a>
                <a href="#tournament" class="nav-item" data-view="tournament">
                    <i class="fas fa-trophy"></i> Mundial
                </a>
                <a href="#social" class="nav-item" data-view="social">
                    <i class="fas fa-users"></i> Comunidad
                </a>
                <a href="#chat" class="nav-item" data-view="chat"><i class="fas fa-comments"></i> Mensajes</a>
            </div>

            <div class="user-profile-mini" id="myProfileLink"
                style="margin-top: auto; padding: 16px 12px; border-top: 1px solid var(--border); display: flex; gap: 12px; align-items: center; cursor:pointer;">
                <img id="userAvatar" src="" class="user-avatar-sm"
                    style="width: 32px; height: 32px; border-radius: 50%;">
                <div class="user-info" style="flex: 1; overflow: hidden;">
                    <div style="font-size:0.8rem; color:var(--text-muted);">Usuario:</div>
                    <div id="userName" class="user-name" style="font-weight: 600; font-size: 0.9rem;">Cargando...</div>
                </div>
                <button id="logoutBtn"
                    style="background: none; border: none; color: var(--text-muted); cursor: pointer;">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Header / Top Bar -->
            <header class="header-bar">
                <h2 id="pageTitle">Dashboard</h2>

                <div style="display:flex; align-items:center; gap:16px;">
                    <!-- Toggle Theme -->
                    <button class="btn-icon" id="themeToggleBtn" title="Cambiar Tema"
                        style="background:transparent; color:var(--text-muted); font-size:1.2rem;">
                        <i class="fas fa-sun"></i>
                    </button>
                    <!-- Search Bar placeholder if needed, or just profile actions -->
                </div>
            </header>

            <!-- Dynamic Content Container -->
            <div id="appContent">
                <!-- Views will be injected here -->
                <div class="loading-spinner">Cargando...</div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <!-- Log Movie Modal -->
    <div id="logModal" class="modal-backdrop">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Registrar Película</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body" id="logModalBody">
                <!-- Content injected by JS -->
            </div>
        </div>
    </div>

    <!-- Bottom Nav (Mobile) -->
    <nav class="bottom-nav">
        <a href="#dashboard" class="nav-item" data-view="dashboard"><i class="fas fa-home"></i><span
                style="font-size: 0.6rem; display:block;">Inicio</span></a>
        <a href="#search" class="nav-item" data-view="search"><i class="fas fa-search"></i><span
                style="font-size: 0.6rem; display:block;">Buscar</span></a>
        <a href="#chat" class="nav-item" data-view="chat"><i class="fas fa-comments"></i><span
                style="font-size: 0.6rem; display:block;">Chat</span></a>
        <a href="#diary" class="nav-item" data-view="diary"><i class="fas fa-book"></i><span
                style="font-size: 0.6rem; display:block;">Diario</span></a>
        <a href="#profile" class="nav-item" data-view="profile"><i class="fas fa-user"></i><span
                style="font-size: 0.6rem; display:block;">Perfil</span></a>
        <a href="javascript:void(0)" id="mobileMenuBtn" class="nav-item"><i class="fas fa-bars"></i><span
                style="font-size: 0.6rem; display:block;">Menú</span></a>
    </nav>

    <!-- Scripts -->
    <script type="module" src="js/app.js"></script>
</body>

</html>